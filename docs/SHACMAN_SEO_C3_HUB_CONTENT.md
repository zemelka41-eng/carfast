# C3 — Контент и мета для хабов SHACMAN (масштабируемо, редактируемо)

## Требования к контенту хабов

Для каждого хаба целевые значения:

| Элемент | Целевой объём |
|--------|----------------|
| **Title** | 70–90 символов |
| **Meta description** | 140–180 символов |
| **H1** | Один заголовок (совпадает с темой страницы) |
| **Intro (SEO-текст)** | 800–1500 слов (минимум 400–700) |
| **FAQ** | 5–8 вопросов (покупка/цена/лизинг/сроки/гарантия/доставка/документы/сервис) |
| **Внутренняя перелинковка** | Популярные формулы, двигатели, категории SHACMAN, «В наличии» |

Контент редактируется через модель **ShacmanHubSEO** в админке. При отсутствии записи или пустых полях используется автогенерация по шаблонам из атрибутов (категория/формула/двигатель/line/наличие).

---

## Редактирование в админке (ShacmanHubSEO)

- **Типы хабов:** `main`, `in_stock`, `category`, `category_in_stock`. Для типа category/category_in_stock обязательно указать категорию.
- **Поля:** `meta_title`, `meta_description`, `seo_text` (HTML), `faq` (формат «вопрос | ответ» по строкам), `also_search_line`.
- **Логика во вьюхах:** для `/shacman/`, `/shacman/in-stock/`, `/shacman/<category>/`, `/shacman/<category>/in-stock/` контент берётся из `_get_shacman_hub_seo_content(hub_type, category)`; при отсутствии записи — fallback из шаблонов ниже.

B3-хабы (formula/engine/series) пока не привязаны к ShacmanHubSEO: у них автогенерация Title/Description во вьюхе; intro и FAQ можно добавить позже через расширение модели (например, опциональный ключ formula/engine_slug/series_slug).

---

## Шаблоны автогенерации (fallback)

### 1. Brand hub (`/shacman/` — main)

| Поле | Шаблон (если нет записи ShacmanHubSEO) |
|------|----------------------------------------|
| **Title** | `SHACMAN — купить технику, цена, в наличии \| CARFAST` |
| **Description** | `Каталог техники SHACMAN: самосвалы, тягачи, автобетоносмесители. Цена, наличие, лизинг, доставка. Официальный дилер CARFAST.` |
| **H1** | Из `catalog_h1` (то же, что title, или из записи). |
| **Intro** | `DEFAULT_SHACMAN_HUB_SEO_TEXT` во вьюхе (блоки: Купить SHACMAN, В наличии/под заказ, Лизинг, Доставка по РФ, Гарантия/сервис/запчасти, Как получить КП). |
| **FAQ** | Из записи или пусто. |
| **Также ищут** | `Также ищут: Шакман / Shacman / Shaanxi / Шахман` |

### 2. Category hub (`/shacman/<category_slug>/` — category)

| Поле | Шаблон |
|------|--------|
| **Title** | `SHACMAN {category.name} — купить, цена, в наличии \| CARFAST` |
| **Description** | `Техника SHACMAN {category.name}. Цена, наличие, лизинг, доставка. Официальный дилер CARFAST.` |
| **H1** | Аналогично, по категории. |
| **Intro/FAQ** | Из ShacmanHubSEO для hub_type=category и данной category. |

### 3. Formula hub (`/shacman/formula/<formula>/` — B3, автогенерация во вьюхе)

| Поле | Шаблон (в коде views) |
|------|------------------------|
| **Title** | `SHACMAN {norm} — купить, цена, в наличии \| CARFAST` (norm = 4x2/6x4/8x4) |
| **Description** | `Техника SHACMAN колёсная формула {norm}. Цена, наличие, лизинг. CARFAST.` |
| **H1** | Из `catalog_h1` = title. |
| **Intro** | Пока пусто (можно добавить общий шаблон по формуле). |
| **FAQ** | Пока пусто. |
| **hub_label** | norm (для отображения в хлебных крошках). |

---

## Блоки внутренней перелинковки на хабах

Уже реализованы в шаблоне `catalog/shacman_hub.html`:

1. **Категории SHACMAN** — кнопки/ссылки на `/shacman/<category_slug>/` из `shacman_hub_categories`.
2. **В наличии** — ссылка на `/shacman/in-stock/` (и при наличии категории — на `/shacman/<category>/in-stock/`).
3. **Популярные модели** — блок `shacman_top_products` (до 12 ссылок на карточки товаров).

При необходимости можно добавить отдельные блоки «Популярные колёсные формулы» (ссылки на `/shacman/formula/4x2/`, `6x4`, `8x4`) и «Популярные двигатели» (ссылки на `/shacman/engine/<slug>/`) — данные берутся из `_shacman_allowed_clusters()`.

---

## Демонстрация на 3 хабах

| Хаб | URL | Title (пример) | Description (пример) |
|-----|-----|----------------|----------------------|
| **Brand** | `/shacman/` | SHACMAN — купить технику, цена, в наличии \| CARFAST | Каталог техники SHACMAN: самосвалы, тягачи, автобетоносмесители. Цена, наличие, лизинг, доставка. Официальный дилер CARFAST. |
| **Category** | `/shacman/sedelnye-tyagachi/` | SHACMAN Седельные тягачи — купить, цена, в наличии \| CARFAST | Техника SHACMAN Седельные тягачи. Цена, наличие, лизинг, доставка. Официальный дилер CARFAST. |
| **Formula** | `/shacman/formula/6x4/` | SHACMAN 6x4 — купить, цена, в наличии \| CARFAST | Техника SHACMAN колёсная формула 6x4. Цена, наличие, лизинг. CARFAST. |

Intro и FAQ для brand/category подставляются из ShacmanHubSEO при наличии; для formula — пока только заголовки и описание из шаблонов выше.
